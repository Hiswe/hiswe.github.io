{"version":3,"sources":["toc.js","index.js"],"names":["init","TOC_SELECTOR","STUCK_CLASS","SENTINEL_CLASS","window","toc","document","querySelector","tocSentinel","createElement","classList","add","insertBefore","firstChild","IntersectionObserver","entries","tocSentinelEntry","classMethod","intersectionRatio","threshold","observe"],"mappings":";AA2BeA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA1Bf,IAAMC,EAAN,UACMC,EAAN,WACMC,EAAN,6BAEMH,EAAO,WAGP,MAAA,KAA2BI,QAA3B,CACEC,IAAAA,EAAMC,SAASC,cAAeN,GAChC,GAACI,EAAD,CACEG,IAAAA,EAAcF,SAASG,cAA7B,OACAD,EAAYE,UAAUC,IAAKR,GAC3BE,EAAIO,aAAcJ,EAAaH,EAAIQ,YAQlB,IAAIC,qBANF,SAACC,GACZC,IAEAC,EADiD,IAD9BF,EAAS,GACDG,kBACjC,MAAA,SACAb,EAAIK,UAAWO,GAAef,IAEsB,CACpDiB,UAAW,IAEJC,QAASZ,MAGLR,EAAAA,EAAAA,QAAAA,QAAAA;;ACzBf,aAFA,IAAA,EAAA,EAAA,QAAA,UAEA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAAA,EAAA,EAAA","file":"hiswe-theme.js","sourceRoot":"../client-javascript","sourcesContent":["\nconst TOC_SELECTOR = `.js-toc`\nconst STUCK_CLASS = `is-stuck`\nconst SENTINEL_CLASS = `article-long__toc-sentinel`\n\nconst init = () => {\n  // https://developers.google.com/web/updates/2017/09/sticky-headers\n  // https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n  if (!`IntersectionObserver` in window) return\n  const toc = document.querySelector( TOC_SELECTOR )\n  if (!toc) return\n  const tocSentinel = document.createElement( `div` )\n  tocSentinel.classList.add( SENTINEL_CLASS )\n  toc.insertBefore( tocSentinel, toc.firstChild )\n\n  const observerCb = (entries)  => {\n    const tocSentinelEntry = entries[ 0 ]\n    const isStuck = tocSentinelEntry.intersectionRatio === 0\n    const classMethod = isStuck ? `add` : `remove`\n    toc.classList[ classMethod ]( STUCK_CLASS )\n  }\n  const observer = new IntersectionObserver(observerCb, {\n    threshold: 1,\n  })\n  observer.observe( tocSentinel)\n}\n\nexport default init\n","import toc from './toc'\n\ntoc()\n"]}